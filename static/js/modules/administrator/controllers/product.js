Controller.define("administrator/product",function(){return{model:{deleteProduct:function(a){return $.ajax({type:"post",url:Registry.get("SITE_URL")+"admin/product/delete",data:a,dataType:"json"})}},actions:{index:{require:{scripts:["bootbox/bootbox.js"],stylesheets:[]},execute:function(){var a=this,b=function(){if(0>=a.find("input[name=data-id]:checked").length)return bootbox.alert("Vui l\u00f2ng ch\u1ecdn s\u1ea3n ph\u1ea9m mu\u1ed1n x\u00f3a!!!"),!1;bootbox.confirm("B\u1ea1n c\u00f3 ch\u1eafc ch\u1eafn mu\u1ed1n x\u00f3a c\u00e1c s\u1ea3n ph\u1ea9m n\u00e0y kh\u00f4ng???",
function(b){if(b){var c=[];a.find("input[name=data-id]:checked").each(function(){c.push($(this).val())});a.model.deleteProduct({arr_product_id:c}).then(function(a){1==a.st?bootbox.alert(a.ms,function(){window.location=window.location.href}):bootbox.alert(a.ms)})}})};a.on("click",".remove-all",function(){b()}).on("change",".limit-query",function(){window.location=$(this).val()})}},create:{require:{scripts:["bootstrap-inputmask.js","bootstrap-select.js"],stylesheets:["bootstrap-select.css"]},execute:function(){this.find(".price-mask").inputmask({alias:"decimal",
radixPoint:".",groupSeparator:",",autoGroup:!0,rightAlign:!0,autoUnmask:!0,removeMaskOnSubmit:!0,digits:0});this.find(".select-picker").selectpicker();CKEDITOR.config.toolbar=[["Styles","Format","Font","FontSize"],"/","Bold Italic Underline StrikeThrough - Undo Redo - Cut Copy Paste Find Replace - Outdent Indent - Print".split(" "),"/","NumberedList BulletedList - JustifyLeft JustifyCenter JustifyRight JustifyBlock".split(" "),"Image Table - Link Flash Smiley TextColor BGColor Source".split(" ")];
CKEDITOR.config.height="100px"}},edit:{require:{scripts:"bootstrap-inputmask.js tags.js photojs/jquery.form.js photojs.js lightbox2-master/src/js/lightbox.js bootstrap-select.js".split(" "),stylesheets:["photojs.css","lightbox2-master/src/css/lightbox.css","bootstrap-select.css"]},execute:function(){this.find(".price-mask").inputmask({alias:"decimal",radixPoint:".",groupSeparator:",",autoGroup:!0,rightAlign:!0,autoUnmask:!0,removeMaskOnSubmit:!0,digits:0});CKEDITOR.config.toolbar=[["Styles","Format",
"Font","FontSize"],"/","Bold Italic Underline StrikeThrough - Undo Redo - Cut Copy Paste Find Replace - Outdent Indent - Print".split(" "),"/","NumberedList BulletedList - JustifyLeft JustifyCenter JustifyRight JustifyBlock".split(" "),"Image Table - Link Flash Smiley TextColor BGColor Source".split(" ")];CKEDITOR.config.height="100px";this.find(".select-picker").selectpicker()}}}}});
